---
title: "_dr_syscall_result_info_t Struct Reference"
layout: default
permalink: /struct__dr__syscall__result__info__t.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynamoRIO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">_dr_syscall_result_info_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;dr_tools.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ab8762d7cd2453f6f306ee23420a9d0bd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#ab8762d7cd2453f6f306ee23420a9d0bd">size</a></td></tr>
<tr class="separator:ab8762d7cd2453f6f306ee23420a9d0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3865013d8cf81ac4543f02ac458de866"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#a3865013d8cf81ac4543f02ac458de866">succeeded</a></td></tr>
<tr class="separator:a3865013d8cf81ac4543f02ac458de866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3fef7d8e374b0ba9f0926d8e8fa3ec"><td class="memItemLeft" align="right" valign="top">reg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#a4f3fef7d8e374b0ba9f0926d8e8fa3ec">value</a></td></tr>
<tr class="separator:a4f3fef7d8e374b0ba9f0926d8e8fa3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48039fe12a1261d673b0a073bb7b636"><td class="memItemLeft" align="right" valign="top">reg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#ac48039fe12a1261d673b0a073bb7b636">high</a></td></tr>
<tr class="separator:ac48039fe12a1261d673b0a073bb7b636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640d68c87a33d04d70f5680c845c5eae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#a640d68c87a33d04d70f5680c845c5eae">use_high</a></td></tr>
<tr class="separator:a640d68c87a33d04d70f5680c845c5eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c70526e7a3c63954234021129c1a90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#a08c70526e7a3c63954234021129c1a90">use_errno</a></td></tr>
<tr class="separator:a08c70526e7a3c63954234021129c1a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf54b7a452b011912d6b7bbba7b84a20"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__dr__syscall__result__info__t.html#abf54b7a452b011912d6b7bbba7b84a20">errno_value</a></td></tr>
<tr class="separator:abf54b7a452b011912d6b7bbba7b84a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structure used to obtain or modify the result of an application system call by <a class="el" href="dr__tools_8h.html#ad2906dcd1979be92605bdf3c58c9f373">dr_syscall_get_result_ex()</a> and <a class="el" href="dr__tools_8h.html#a70710f3b42a9797a72ffb51f46720849">dr_syscall_set_result_ex()</a>. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="abf54b7a452b011912d6b7bbba7b84a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf54b7a452b011912d6b7bbba7b84a20">&#9670;&nbsp;</a></span>errno_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint _dr_syscall_result_info_t::errno_value</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If requested by <code>use_errno</code>, if a system call fails (i.e., <code>succeeded</code> is false) <a class="el" href="dr__tools_8h.html#ad2906dcd1979be92605bdf3c58c9f373">dr_syscall_get_result_ex()</a> will set this field to the absolute value of the error code returned (i.e., on Linux, it will be inverted from what the kernel directly returns, in order to facilitate cross-platform clients that operate on both Linux and MacOS). For Linux and Macos, when <code>succeeded</code> is true, <code>errno_value</code> is set to 0.</p>
<p>If <code>use_errno</code> is set for <a class="el" href="dr__tools_8h.html#a70710f3b42a9797a72ffb51f46720849">dr_syscall_set_result_ex()</a>, then this value will be stored as the system call's return value, negated if necessary for the underlying platform. In that case, <code>value</code> will be ignored. </p>

</div>
</div>
<a id="ac48039fe12a1261d673b0a073bb7b636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48039fe12a1261d673b0a073bb7b636">&#9670;&nbsp;</a></span>high</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reg_t _dr_syscall_result_info_t::high</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>On some platforms (such as MacOS), a 32-bit application's system call can return a 64-bit value. For such calls, this field will hold the top 32 bit bits, if requested by <code>use_high</code>. It is up to the caller to know which system calls have 64-bit return values. System calls that return only 32-bit values do not clear the upper bits. Consider using the "drsyscall" Extension in order to obtain per-system-call semantic information, including return type. </p>

</div>
</div>
<a id="ab8762d7cd2453f6f306ee23420a9d0bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8762d7cd2453f6f306ee23420a9d0bd">&#9670;&nbsp;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t _dr_syscall_result_info_t::size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The caller should set this to the size of the structure. </p>

</div>
</div>
<a id="a3865013d8cf81ac4543f02ac458de866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3865013d8cf81ac4543f02ac458de866">&#9670;&nbsp;</a></span>succeeded</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _dr_syscall_result_info_t::succeeded</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates whether the system call succeeded or failed. For <a class="el" href="dr__tools_8h.html#a70710f3b42a9797a72ffb51f46720849">dr_syscall_set_result_ex()</a>, this requests that DR set any additional machine state, if any, used by the particular plaform that is not part of <code>value</code> to indicate success or failure (e.g., on MacOS the carry flag is used to indicate success).</p>
<p>For Windows, the success result from <a class="el" href="dr__tools_8h.html#ad2906dcd1979be92605bdf3c58c9f373">dr_syscall_get_result_ex()</a> should only be relied upon for ntoskrnl system calls. For other Windows system calls (such as win32k.sys graphical (NtGdi) or user (NtUser) system calls), computing success depends on each particular call semantics and is beyond the scope of this routine (consider using the "drsyscall" Extension instead).</p>
<p>For Mach syscalls on MacOS, the success result from <a class="el" href="dr__tools_8h.html#ad2906dcd1979be92605bdf3c58c9f373">dr_syscall_get_result_ex()</a> should not be relied upon. Computing success depends on each particular call semantics and is beyond the scope of this routine (consider using the "drsyscall" Extension instead). </p>

</div>
</div>
<a id="a08c70526e7a3c63954234021129c1a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c70526e7a3c63954234021129c1a90">&#9670;&nbsp;</a></span>use_errno</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _dr_syscall_result_info_t::use_errno</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This should be set by the caller. For <a class="el" href="dr__tools_8h.html#ad2906dcd1979be92605bdf3c58c9f373">dr_syscall_get_result_ex()</a>, this requests that DR fill in the <code>errno_value</code> field. For <a class="el" href="dr__tools_8h.html#a70710f3b42a9797a72ffb51f46720849">dr_syscall_set_result_ex()</a>, this requests that DR set the <code>value</code> to indicate the particular error code in <code>errno_value</code>. </p>

</div>
</div>
<a id="a640d68c87a33d04d70f5680c845c5eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640d68c87a33d04d70f5680c845c5eae">&#9670;&nbsp;</a></span>use_high</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _dr_syscall_result_info_t::use_high</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This should be set by the caller, and only applies to 32-bit system calls. For <a class="el" href="dr__tools_8h.html#ad2906dcd1979be92605bdf3c58c9f373">dr_syscall_get_result_ex()</a>, this requests that DR fill in the <code>high</code> field. For <a class="el" href="dr__tools_8h.html#a70710f3b42a9797a72ffb51f46720849">dr_syscall_set_result_ex()</a>, this requests that DR set the high 32 bits of the application-facing result to the value in the <code>high</code> field. </p>

</div>
</div>
<a id="a4f3fef7d8e374b0ba9f0926d8e8fa3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3fef7d8e374b0ba9f0926d8e8fa3ec">&#9670;&nbsp;</a></span>value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reg_t _dr_syscall_result_info_t::value</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The raw main value returned by the system call. See also the <code>high</code> field. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/runner/work/dynamorio/dynamorio/build_release-64/include/<a class="el" href="dr__tools_8h.html">dr_tools.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  DynamoRIO version 9.0.1 --- Mon Feb 14 2022 19:02:58 &nbsp; <img border=0 src="favicon.png">
</small></address>
